name: ImageBuilderPipelineParent 

trigger: none

resources:
  pipelines:
  - pipeline: child-pipeline-01   # Name of the child pipeline resource
    source: ImageBuilderAzureChild01 # Name of the pipeline referenced by the pipeline resource
    project: ImageBuilderAzure # Required only if the source pipeline is in another project
    trigger: true # enabled the pipeline trigger
  - pipeline: child-pipeline-02   
    source: ImageBuilderAWSChild01 
    project: ImageBuilderAWS 
    trigger: true
  - pipeline: child-pipeline-03   
    source: ImageBuilderGCPChild01 
    project: ImageBuilderGCP 
    trigger: true 

pool:
  vmImage: ubuntu-latest

steps:
  - script: echo 'pipelines executed successfully'
